<div class="example">
  <div class="example__wrapper">
    <div class="mc-password-input">
      <input
        type="password"
        class="mc-text-input mc-password-input__control"
        id="hidden"
        placeholder="Placeholder"
        name="hidden"
        value="Password1234"
      />
      <button
        type="button"
        class="mc-password-input__button"
        role="switch"
        aria-pressed="false"
      >
        Show
      </button>
    </div>
  </div>

  <div class="example__wrapper">
    <div class="mc-password-input">
      <input
        type="text"
        class="mc-text-input mc-password-input__control"
        id="visible"
        placeholder="Placeholder"
        name="visible"
        value="Password1234"
      />
      <button
        type="button"
        class="mc-password-input__button"
        role="switch"
        aria-pressed="true"
      >
        Hide
      </button>
    </div>
  </div>
</div>

<script>
  // Make the checkbox indeterminate via JavaScript
  var buttons = document.querySelectorAll('.mc-password-input__button')

  buttons.forEach(function (button) {
    button.addEventListener('click', function () {
      var container = button.closest('.mc-password-input')
      var input = container.querySelector('input')
      var buttonState = button.getAttribute('aria-pressed')

      if (buttonState === 'false') {
        button.setAttribute('aria-pressed', 'true')
        button.innerText = 'Hide'
        input.type = 'text'
      } else {
        button.setAttribute('aria-pressed', 'false')
        button.innerText = 'Show'
        input.type = 'password'
      }
    })
  })
</script>
