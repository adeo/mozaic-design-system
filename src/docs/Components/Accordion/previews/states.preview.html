<div class="example">
  <div class="mc-accordion">
    <div class="mc-accordion__header">
      <h2 class="mc-accordion__title">
        <button
          id="accordion1"
          class="mc-accordion__trigger"
          aria-controls="content1"
          aria-expanded="false"
          data-mc-component="accordion"
        >
          Accordion close
        </button>
      </h2>
    </div>
    <div
      id="content1"
      class="mc-accordion__content"
      aria-hidden="true"
      aria-labelledby="accordion1"
    >
      <p>
        Fusce iaculis dolor nulla, a maximus ipsum sollicitudin et. Ut
        condimentum at orci aliquam feugiat. Curabitur sagittis placerat leo sit
        amet pharetra.
      </p>
    </div>
  </div>

  <div class="mc-accordion is-open">
    <div class="mc-accordion__header">
      <h2 class="mc-accordion__title">
        <button
          id="accordion2"
          class="mc-accordion__trigger"
          aria-controls="content2"
          aria-expanded="true"
          data-mc-component="accordion"
        >
          Accordion open
        </button>
      </h2>
    </div>
    <div
      id="content2"
      class="mc-accordion__content"
      aria-hidden="false"
      aria-labelledby="accordion2"
    >
      <p>
        Fusce iaculis dolor nulla, a maximus ipsum sollicitudin et. Ut
        condimentum at orci aliquam feugiat. Curabitur sagittis placerat leo sit
        amet pharetra.
      </p>
    </div>
  </div>

  <div class="mc-accordion">
    <div class="mc-accordion__header">
      <h2 class="mc-accordion__title">
        <button
          id="accordion3"
          class="mc-accordion__trigger"
          aria-controls="content3"
          aria-expanded="false"
          disabled
        >
          Accordion close & disabled
        </button>
      </h2>
    </div>
    <div
      id="content3"
      class="mc-accordion__content"
      aria-hidden="true"
      aria-labelledby="accordion3"
    >
      <p>
        Fusce iaculis dolor nulla, a maximus ipsum sollicitudin et. Ut
        condimentum at orci aliquam feugiat. Curabitur sagittis placerat leo sit
        amet pharetra.
      </p>
    </div>
  </div>

  <div class="mc-accordion is-open">
    <div class="mc-accordion__header">
      <h2 class="mc-accordion__title">
        <button
          id="accordion4"
          class="mc-accordion__trigger"
          aria-controls="content4"
          aria-expanded="false"
          data-mc-component="accordion"
          disabled
        >
          Accordion open & disabled
        </button>
      </h2>
    </div>
    <div
      id="content4"
      class="mc-accordion__content"
      aria-hidden="true"
      aria-labelledby="accordion4"
    >
      <p>
        Fusce iaculis dolor nulla, a maximus ipsum sollicitudin et. Ut
        condimentum at orci aliquam feugiat. Curabitur sagittis placerat leo sit
        amet pharetra.
      </p>
    </div>
  </div>
</div>

<script>
  const accordions = document.querySelectorAll(
    '[data-mc-component="accordion"]'
  )
  accordions.forEach(function (accordion) {
    if (accordion.hasAttribute('disabled')) {
      accordion.closest('.mc-accordion').classList.add('is-disabled')
    }

    accordion.addEventListener('click', function (e) {
      const component = accordion.closest('.mc-accordion')
      const button = component.querySelector('.mc-accordion__trigger')
      const content = component.querySelector('.mc-accordion__content')
      const expanded =
        button.getAttribute('aria-expanded') === 'false' ? false : true
      const hidden =
        content.getAttribute('aria-hidden') === 'false' ? false : true

      component.classList.toggle('is-open')
      button.setAttribute('aria-expanded', !expanded)
      content.setAttribute('aria-hidden', !hidden)
    })
  })
</script>
